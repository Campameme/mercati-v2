<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEST JS - Solo JavaScript Base</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; background: #f5f5f5; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 20px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .header { text-align: center; margin-bottom: 30px; }
        .controls { margin-bottom: 20px; text-align: center; }
        .btn { padding: 12px 24px; margin: 5px; border: none; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: bold; }
        .btn-primary { background: #007bff; color: white; }
        .btn-success { background: #28a745; color: white; }
        .btn-warning { background: #ffc107; color: #000; }
        .btn-danger { background: #dc3545; color: white; }
        .btn:hover { opacity: 0.8; }
        .test-area { background: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; border: 2px solid #007bff; min-height: 200px; }
        .status { padding: 15px; margin: 15px 0; border-radius: 6px; font-weight: bold; text-align: center; }
        .status.success { background: #d4edda; color: #155724; border: 2px solid #c3e6cb; }
        .status.error { background: #f8d7da; color: #721c24; border: 2px solid #f5c6cb; }
        .status.info { background: #d1ecf1; color: #0c5460; border: 2px solid #bee5eb; }
        .log { background: #000; color: #00ff00; padding: 15px; border-radius: 6px; font-family: monospace; font-size: 12px; max-height: 200px; overflow-y: auto; }
        .info { background: #f8f9fa; padding: 15px; border-radius: 6px; margin: 15px 0; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🧪 TEST JS - Solo JavaScript Base</h1>
            <p>Versione che testa solo JavaScript senza dipendenze esterne</p>
        </div>
        
        <div class="controls">
            <button class="btn btn-primary" onclick="testJS()">🧪 Test JavaScript</button>
            <button class="btn btn-success" onclick="testDOM()">📄 Test DOM</button>
            <button class="btn btn-warning" onclick="testDate()">📅 Test Date</button>
            <button class="btn btn-danger" onclick="testError()">❌ Test Error</button>
        </div>
        
        <div id="status" class="status info">Pronto per i test</div>
        
        <div class="test-area">
            <h3>🧪 Area di Test</h3>
            <div id="testContent">Contenuto di test</div>
            <div id="testDate">Data: </div>
            <div id="testArray">Array: </div>
        </div>
        
        <div class="info">
            <h4>📊 Informazioni</h4>
            <div id="info">JavaScript non testato</div>
        </div>
        
        <div class="info">
            <h4>📝 Log</h4>
            <div id="log" class="log">Sistema inizializzato...</div>
        </div>
    </div>
    
    <script>
        let testCounter = 0;
        
        function log(message) {
            const logEl = document.getElementById('log');
            const timestamp = new Date().toLocaleTimeString();
            logEl.innerHTML += `[${timestamp}] ${message}\n`;
            logEl.scrollTop = logEl.scrollHeight;
            console.log(message);
        }
        
        function updateStatus(message, type = 'info') {
            const statusEl = document.getElementById('status');
            statusEl.textContent = message;
            statusEl.className = `status ${type}`;
        }
        
        function updateInfo(message) {
            document.getElementById('info').innerHTML = message;
        }
        
        function updateTestContent(message) {
            document.getElementById('testContent').innerHTML = message;
        }
        
        // Test inizializzazione
        log('🚀 Script JavaScript caricato');
        
        // Verifica funzioni base
        try {
            const testDate = new Date();
            log(`✅ Date funziona: ${testDate.toISOString()}`);
            
            const testArray = [1, 2, 3, 4, 5];
            log(`✅ Array funziona: ${testArray.join(', ')}`);
            
            const testObject = { nome: 'Test', valore: 42 };
            log(`✅ Object funziona: ${testObject.nome} = ${testObject.valore}`);
            
        } catch (error) {
            log(`❌ Errore test base: ${error.message}`);
        }
        
        // Inizializza
        document.addEventListener('DOMContentLoaded', function() {
            log('🚀 DOM caricato');
            
            try {
                const testEl = document.getElementById('testContent');
                log(`🔍 Elemento test trovato: ${testEl ? 'SI' : 'NO'}`);
                
                if (testEl) {
                    testEl.innerHTML = '✅ DOM funziona correttamente';
                    log('✅ DOM funziona');
                }
                
                updateStatus('JavaScript e DOM funzionanti', 'success');
                updateInfo('Sistema base funzionante');
                
            } catch (error) {
                log(`❌ Errore DOM: ${error.message}`);
                updateStatus(`ERRORE DOM: ${error.message}`, 'error');
            }
        });
        
        function testJS() {
            log('🧪 Test JavaScript...');
            testCounter++;
            
            try {
                // Test operazioni base
                const risultato = 10 + 20;
                log(`✅ Addizione: 10 + 20 = ${risultato}`);
                
                const stringa = 'Hello ' + 'World';
                log(`✅ Concatenazione: ${stringa}`);
                
                const array = ['a', 'b', 'c'];
                array.push('d');
                log(`✅ Array push: ${array.join(', ')}`);
                
                const oggetto = { x: 1, y: 2 };
                oggetto.z = 3;
                log(`✅ Object property: ${oggetto.x}, ${oggetto.y}, ${oggetto.z}`);
                
                updateStatus(`Test JavaScript completato (${testCounter})`, 'success');
                updateInfo(`Test completati: ${testCounter}`);
                updateTestContent(`✅ Test JavaScript ${testCounter} completato`);
                
            } catch (error) {
                log(`❌ Errore test JS: ${error.message}`);
                updateStatus(`ERRORE: ${error.message}`, 'error');
            }
        }
        
        function testDOM() {
            log('📄 Test DOM...');
            
            try {
                const testEl = document.getElementById('testContent');
                const dateEl = document.getElementById('testDate');
                const arrayEl = document.getElementById('testArray');
                
                if (testEl && dateEl && arrayEl) {
                    testEl.innerHTML = `✅ DOM test ${Date.now()}`;
                    dateEl.innerHTML = `Data: ${new Date().toLocaleString('it-IT')}`;
                    arrayEl.innerHTML = `Array: [${Array.from({length: 5}, (_, i) => i + 1).join(', ')}]`;
                    
                    log('✅ DOM manipulation completata');
                    updateStatus('Test DOM completato', 'success');
                } else {
                    throw new Error('Elementi DOM non trovati');
                }
                
            } catch (error) {
                log(`❌ Errore test DOM: ${error.message}`);
                updateStatus(`ERRORE DOM: ${error.message}`, 'error');
            }
        }
        
        function testDate() {
            log('📅 Test Date...');
            
            try {
                const oggi = new Date();
                const domani = new Date(oggi);
                domani.setDate(oggi.getDate() + 1);
                
                const dateEl = document.getElementById('testDate');
                if (dateEl) {
                    dateEl.innerHTML = `
                        <strong>Date Test:</strong><br>
                        Oggi: ${oggi.toLocaleDateString('it-IT')}<br>
                        Domani: ${domani.toLocaleDateString('it-IT')}<br>
                        ISO: ${oggi.toISOString()}
                    `;
                }
                
                log('✅ Date test completato');
                updateStatus('Test Date completato', 'success');
                
            } catch (error) {
                log(`❌ Errore test Date: ${error.message}`);
                updateStatus(`ERRORE Date: ${error.message}`, 'error');
            }
        }
        
        function testError() {
            log('❌ Test Error...');
            
            try {
                // Simula un errore
                const oggetto = null;
                oggetto.proprieta = 'valore'; // Questo causerà un errore
                
            } catch (error) {
                log(`✅ Error handling funziona: ${error.message}`);
                updateStatus('Error handling funziona', 'success');
                updateTestContent(`✅ Error test: ${error.message}`);
            }
        }
        
        // Test automatico
        setTimeout(() => {
            log('⏰ Test automatico dopo 2 secondi...');
            testJS();
        }, 2000);
        
        log('🚀 Sistema test JS inizializzato');
    </script>
</body>
</html>
